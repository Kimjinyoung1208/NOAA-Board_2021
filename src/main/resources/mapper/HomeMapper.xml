<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.board.mapper.Home">

<select id="list" resultType="com.board.dto.HomeDto">
	SELECT
		bno
		, title
		, contents
		, writer
		, viewcnt
		, to_char(regdate, 'YYYY-MM-DD HH24:MI') AS regdate
	FROM
		board
	ORDER BY
		bno DESC
</select>

<insert id="write" parameterType="com.board.dto.HomeDto">
	INSERT INTO board 
		(
			title
			, writer 
			, contents
		)
	VALUES
		(
			#{title}
			, #{writer}
			, #{contents}
		)
</insert>

<select id="detail" resultType="com.board.dto.HomeDto">
	SELECT
		bno
		, title
		, writer
		, contents
	FROM
		board
	WHERE
		bno = #{bno}
</select>

<update id="update" parameterType="com.board.dto.HomeDto">
	UPDATE 
		board
	SET
		title = #{title}
		, contents = #{contents}
		, writer = #{writer}
	WHERE
		bno = #{bno}
</update>

</mapper> 